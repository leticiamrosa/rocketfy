{"version":3,"sources":["styles/global.js","components/Header/styles.js","components/Header/index.js","components/List/styles.js","components/Card/styles.js","components/Board/context.js","components/Card/index.js","components/List/index.js","components/Board/styles.js","components/Board/index.js","services/api.js","App.js","index.js"],"names":["createGlobalStyle","Container","styled","div","Header","props","done","isDragging","css","Label","span","color","createContext","Card","data","index","listIndex","ref","useRef","move","useContext","BoardContext","useDrag","item","type","collect","monitor","dragRef","useDrop","accept","hover","draggedListIndex","targetListIndex","draggedIndex","targetIndex","targetSize","current","getBoundingClientRect","targetCenter","bottom","top","draggedTop","getClientOffset","y","dropRef","labels","map","label","key","content","user","src","alt","List","console","log","cards","title","creatable","size","card","id","Board","useState","lists","setLists","Provider","value","fromList","from","to","produce","draft","dragged","splice","list","App","backend","HTML5Backend","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.72df8615.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle`\n@import url('https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap');\n\n    * {\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        height: 100%;\n    }\n\n    body {\n        font: 14px 'Roboto', sans-serif;\n        background-color: #ecf1f8;\n        color: #333;\n        -webkit-font-smoothing: antialiased !important;\n    }\n\n    ul {\n        list-style: none;\n    }\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 80px;\n  padding: 0 30px;\n  background-color: #7159c1;\n  color: #fff;\n\n  display: flex;\n  align-items: center;\n`;\n","import React from 'react';\n\nimport { Container } from './styles';\n\nexport default function Header() {\n  return (\n    <Container>\n      <h1>Rocketfy</h1>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  flex: 0 0 320px;\n  padding: 0 15px;\n  height: 100%;\n\n  opacity: ${props => (props.done ? 0.6 : 1)};\n\n  /* flex-grow; 0 // elemento pode esticar\n    flex-shrink; 0 // possibilidade do elemento reduzir\n    flex-basis; 320 // tamnho base do elemento */\n\n  & + div {\n    border-left: 1px solid rgba(0, 0, 0, 0.05);\n  }\n\n  header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 42px;\n\n    h2 {\n      font-size: 16px;\n      padding: 0 10px;\n      font-weight: 500;\n    }\n\n    button {\n      width: 40px;\n      height: 40px;\n      border-radius: 18px;\n      background-color: #3b5bfd;\n      border: 0;\n      cursor: pointer;\n    }\n  }\n\n  ul {\n    margin-top: 30px;\n  }\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled.div`\n  position: relative;\n  background-color: #fff;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  padding: 15px;\n  box-shadow: 0 1px 4px 0 rgba(192, 208, 360, 0.8);\n  border-top: 20px solid rgba(230, 236, 245, 0.5);\n  cursor: grab;\n  header {\n    position: absolute;\n    top: -22px;\n    left: 15px;\n  }\n\n  p {\n    font-weight: 500;\n    line-height: 20px;\n  }\n\n  img {\n    width: 24px;\n    height: 24px;\n    border-radius: 4px;\n    margin-top: 4px;\n  }\n\n  ${props =>\n    props.isDragging &&\n    css`\n      border: 2px dashed rgba(0, 0, 0, 0.2);\n      padding-top: 31px;\n      border-radius: 0;\n      background: transparent;\n      box-shadow: none;\n      cursor: grabbing;\n\n      p,\n      img,\n      header {\n        opacity: 0;\n      }\n    `}\n`;\n\nexport const Label = styled.span`\n  width: 10px;\n  height: 10px;\n  border-radius: 2px;\n  display: inline-block;\n  background-color: ${props => props.color};\n`;\n","import { createContext } from 'react';\n\nexport default createContext({});\n","import React, { useRef, useContext } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\n\nimport { Container, Label } from './styles';\nimport BoardContext from '../Board/context';\n\nexport default function Card({ data, index, listIndex }) {\n  const ref = useRef();\n  const { move } = useContext(BoardContext);\n\n  const [{ isDragging }, dragRef] = useDrag({\n    item: { type: 'CARD', index, listIndex },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n\n  const [, dropRef] = useDrop({\n    accept: 'CARD',\n    hover(item, monitor) {\n      const draggedListIndex = item.listIndex;\n      const targetListIndex = listIndex;\n\n      const draggedIndex = item.index;\n      const targetIndex = index;\n\n      if (draggedIndex === targetIndex) {\n        return;\n      }\n\n      const targetSize = ref.current.getBoundingClientRect();\n      const targetCenter = (targetSize.bottom - targetSize.top) / 2;\n\n      const draggedOffset = monitor.getClientOffset();\n      const draggedTop = draggedOffset.y - targetSize.top;\n\n      // evita operacoes desnecessarias\n      // permite que o card de cima seja validado apenas se passar pelo centro\n      if (draggedIndex < targetIndex && draggedTop < targetCenter) {\n        return;\n      }\n\n      // permite que o card de baixo seja validado apenas se passar pelo centro\n      if (draggedIndex > targetIndex && draggedTop > targetCenter) {\n        return;\n      }\n\n      move(draggedListIndex, draggedIndex, targetIndex);\n\n      item.index = targetIndex;\n      item.listIndex = targetListIndex;\n    }\n  });\n\n  dragRef(dropRef(ref)); // hook\n\n  return (\n    <Container ref={ref} isDragging={isDragging}>\n      <header>\n        {data.labels.map(label => (\n          <Label color={label} key={label} />\n        ))}\n      </header>\n      <p>{data.content}</p>\n      {data.user && <img src={data.user} alt=\"Avatar\" />}\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { MdAdd } from \"react-icons/md\";\nimport { Container } from \"./styles\";\nimport Card from \"../Card\";\n\nexport default function List({ data, listIndex }) {\n  console.log(data.cards);\n  return (\n    <Container done={data.done}>\n      <header>\n        <h2>{data.title}</h2>\n        {data.creatable && (\n          <button type=\"button\">\n            <MdAdd size={24} color=\"#fff\" />\n          </button>\n        )}\n      </header>\n\n      <ul>\n        {data.cards.map((card, index) => (\n          <Card key={card.id} listIndex={listIndex} index={index} data={card} />\n        ))}\n      </ul>\n    </Container>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  padding: 30px 0;\n  height: calc(100% - 80px);\n`;\n","import React, { useState } from \"react\";\nimport produce from \"immer\";\nimport List from \"../List\";\nimport { Container } from \"./styles\";\n\nimport { loadLists } from \"../../services/api\";\nimport BoardContent from \"./context\";\n\nconst data = loadLists();\n\nexport default function Board() {\n  const [lists, setLists] = useState(data);\n\n  function move(fromList, from, to) {\n    console.log(fromList, from, to);\n\n    setLists(\n      produce(lists, draft => {\n        const dragged = draft[fromList].cards[from];\n        console.log(dragged);\n        draft[fromList].cards.splice(from, 1);\n        draft[fromList].cards.splice(to, 0, dragged);\n      })\n    );\n  }\n\n  return (\n    <BoardContent.Provider value={{ lists, move }}>\n      <Container>\n        {lists.map((list, index) => (\n          <List key={list.title} listIndex={index} data={list} />\n        ))}\n      </Container>\n    </BoardContent.Provider>\n  );\n}\n","export function loadLists() {\n  return [\n    {\n      title: 'Tarefas',\n      creatable: true,\n      cards: [\n        {\n          id: 1,\n          content: 'Estudar módulo 01 de NodeJS',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 2,\n          content:\n            'Criar vídeo para o Youtube ensinando a recriar a interface do Pipefy',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 3,\n          content: 'Estudar módulo 03 de React Native',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 4,\n          content:\n            'Gravar Aula \"NextJS: Utilizando server-side rendering com ReactJS\"',\n          labels: ['#54e1f7'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 5,\n          content: 'Gravar testes e deploy ReactJS',\n          labels: ['#54e1f7'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        }\n      ]\n    },\n    {\n      title: 'Fazendo',\n      creatable: false,\n      cards: [\n        {\n          id: 6,\n          content: 'Recriando clone do Pipefy',\n          labels: [],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        }\n      ]\n    },\n    {\n      title: 'Pausado',\n      creatable: false,\n      cards: [\n        {\n          id: 7,\n          content: 'Gravar sobre Geolocalização e mapas com React Native',\n          labels: ['#7159c1'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 8,\n          content: 'Gravar testes e deploy ReactJS',\n          labels: ['#54e1f7'],\n          user: 'https://rocketseat-cdn.s3-sa-east-1.amazonaws.com/profile.png'\n        },\n        {\n          id: 9,\n          content: 'Ajustes na biblioteca unform',\n          labels: []\n        }\n      ]\n    },\n    {\n      title: 'Concluído',\n      creatable: false,\n      done: true,\n      cards: [\n        {\n          id: 10,\n          content: 'Gravar aula sobre deploy e CI com React Native',\n          labels: []\n        },\n        {\n          id: 12,\n          content: 'Gravar testes e deploy ReactJS',\n          labels: ['#54e1f7']\n        },\n        {\n          id: 13,\n          content:\n            'Gravar Aula \"Internacionalização de aplicações Node.js, ReactJS e React Native\"',\n          labels: ['#7159c1']\n        }\n      ]\n    }\n  ];\n}\n","import React from 'react';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nimport GlobalStyle from './styles/global';\nimport Header from './components/Header';\nimport Board from './components/Board';\n\nfunction App() {\n  return (\n    <>\n      <DndProvider backend={HTML5Backend}>\n        <Header />\n        <Board />\n        <GlobalStyle />\n      </DndProvider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}